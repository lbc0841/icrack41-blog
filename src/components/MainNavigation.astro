---
import { Image } from "astro:assets";
import profileImg from '../assets/img/profile_img.webp';
---

<div class="absolute top-0 left-0 w-full px-4 md:px-10 py-4 flex justify-between align-middle z-999">
        <div class="font-share-tech-mono font-bold" onclick="location.href='/icrack41-blog';">ICRACK</div>

        <!-- MenuBar -->
        <div class="hidden gap-6 md:flex">
            <a class="font-share-tech-mono" href="/icrack41-blog/about">About</a>
            <a class="font-share-tech-mono" href="/icrack41-blog/notes">Notes</a>
            <a class="font-share-tech-mono" href="/icrack41-blog/projects">Projects</a>
            <a class="font-share-tech-mono" href="/icrack41-blog/friends">Friends</a>
        </div>

        <!-- HamburgerMenu -->
        <div class="hamburger-menu block md:hidden mx-2">
            <input type="checkbox" id="toggler" />
        
            <label for="toggler">
                <i id="hamburger" class="fa-solid fa-bars"></i>
            </label>
        
            <div id="main-nav-links-hamburger" class="main-nav-links-hamburger">
                <Image class="rounded-2xl" src={profileImg} alt="profile-img" height={110} width={110}/>
                <div class="mt-4">
                    <a class="block text-xl my-2" href="/icrack41-blog/"><i class="w-[24px] pr-8 fa-solid fa-house"></i>Home</a>
                    <a class="block text-xl my-2" href="/icrack41-blog/about"><i class="w-[24px] pr-8 fa-solid fa-user"></i>About</a>
                    <a class="block text-xl my-2" href="/icrack41-blog/notes"><i class="w-[24px] pr-8 fa-solid fa-code"></i>Note</a>
                    <a class="block text-xl my-2" href="/icrack41-blog/projects"><i class="w-[24px] pr-8 fa-solid fa-file-invoice"></i>Projects</a>
                    <a class="block text-xl my-2" href="/icrack41-blog/friends"><i class="w-[24px] pr-8 fa-solid fa-pen-clip"></i>Friends</a>
                </div>
            </div>
        </div>
</div>

<style>
    #toggler {
        display: none;
    }
    
    .hamburger-menu {
        color: rgb(255, 255, 255);
    }
    
    .hamburger-menu #hamburger {
        display: inline-block;
    }
    .hamburger-menu #close {
        display: none;
    }
    #toggler:checked + .hamburger-menu #hamburger {
        display: none;
    }
    #toggler:checked + .hamburger-menu #close {
        display: inline-block;
    }
    
    .main-nav-links-hamburger {
        position: absolute;
        top: 0;
        left: 0;
    
        width: 100dvw;
        height: 100dvh;
    
        max-width: 0;
    
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow: hidden;
    
        padding-top: 4rem;
        background-color: rgba(0, 0, 0, 0.8);
        box-shadow: 2px -8px 10px rgba(0, 0, 0, 0.8);
    
        color: white;
    
        transition: all 0.1s ease-in;
    }
    
    #toggler:checked ~ .main-nav-links-hamburger {
        max-width: 200px;
    }
</style>
    
<script>
    const mainNavHamburger = document.getElementById("main-nav-links-hamburger");
    const toggler = document.getElementById("toggler") as HTMLInputElement;
    
    document.addEventListener("click", (e) => {
    
        const target = e.target as HTMLElement;
        if(!mainNavHamburger?.contains(target) && e.target != toggler){
            toggler.checked = false;
        }
    });
</script>
    
