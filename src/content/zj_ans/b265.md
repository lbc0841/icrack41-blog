---
title: "b265. Q11286 - Conformity"
description: ""
date: 2025-05-16
tags: ["cpp"]
---

## 解法一、map

### 🔹 壓縮

課程代號最大是 499，而 499 = 0b111110011<br>
每個課程代號占用 9 bits<br>
5 個課程代號會占用 45 bits<br>
把 5 個課程代號 壓縮到 `long long` 中<br>
<font color="#ff7000">(壓縮前需要先排序)</font>

然後用 `unordered_map<>` 儲存組合出現的次數

### ✅ 完整代碼

評分結果(參考) ： **<font color="#00bb00">AC</font> (84ms, 1.3MB)**

```cpp
#include <bits/stdc++.h>
using namespace std;
#define int long long

signed main(){
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    
    int n;
    vector<int> nums(5);
    
    while(true){
        cin >> n;
        if(n == 0) break;
        
        int mx=0, cnt=1;
        unordered_map<int, int> um;
        
        for(int i=0; i<n; i++){
            for(int& num : nums) cin >> num;
            sort(nums.begin(), nums.end());
            
            int k = nums[0] + (nums[1]<<9) + (nums[2]<<18) + (nums[3]<<27) + (nums[4]<<36);
            um[k]++;
            
            if(um[k] > mx){
                mx = um[k];
                cnt = 1;
            }
            else if(um[k] == mx){
                cnt++;
            }
        }
        cout << mx*cnt << "\n";
    }
    
    return 0;
}
```
