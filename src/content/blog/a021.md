---
title: "a021. 大數運算"
description: ""
date: 2025-05-16
tags: ["cpp"]
--- 

## 解法一

評分結果(參考) ： **<font color="#00bb00">AC</font>**

```cpp
#include <bits/stdc++.h>
using namespace std;

bool ageb(int a[], int b[]){
    for(int i = 499; i >= 0; i--){    
        if     (a[i] > b[i]) return true;
        else if(a[i] < b[i]) return false;
    }
    return true;
}

void _add(int a[], int b[], int* ans){
    int x = 0;
    
    for(int i = 0; i < 500; i++){    
        int sum = a[i] + b[i] + x;
        
        ans[i] = sum%10;
        x = sum/10;
    }
}

void _minus(int a[], int b[], int* ans){
    int x = 0;
    for(int i = 0; i < 500; i++){        
        int sum = a[i] - b[i] + x;
        
        if(sum < 0){
            sum += 10;
            x = -1;
        }
        else{
            x = 0;
        }
        ans[i] = sum;
    }
}

void _multiply(int a[], int b[], int* ans){
    for(int i = 0; i < 500; i++){
        for(int j = 0; j < 500; j++){
            if(i + j >= 500) continue;
            
            ans[i+j] += a[i]*b[j];
            
            int n = i+j;
            while(ans[n] >= 10){
                ans[n+1] += (ans[n]/10);
                ans[n]   %= 10;
                n++;
            }
        }
    }
}

void _division(int a[], int b[], int* ans){
    int digitA = 499;
    int digitB = 499;
    
    while(a[digitA] == 0) digitA--;
    while(b[digitB] == 0) digitB--;
    
    int k = digitA - digitB;
    
    while(ageb(a, b)){
        int b_temp[500] = {0};
        for(int i = 0; i < 500-k; i++){
            b_temp[k+i] = b[i];
        }
        
        if(ageb(a, b_temp)){
            _minus(a, b_temp, a);
            ans[k]++;
        }
        else{
            k--;
        }
    }
}

int main(){
    
    string input_a = "", input_b = "";
    char op;

    while(cin >> input_a >> op >> input_b){
    
        int a[500] = {0}, b[500] = {0}, ans[500] = {0};
            
        for(int i=0; i<input_a.length(); i++) a[input_a.length()-i-1] = input_a[i] - '0';
        for(int i=0; i<input_b.length(); i++) b[input_b.length()-i-1] = input_b[i] - '0';
        
        bool agebo = ageb(a, b);
        
        if     (op == '+') _add   (a, b, ans);
        else if(op == '-') agebo ? _minus(a, b, ans) :_minus(b, a, ans);        
        else if(op == '*') _multiply(a, b, ans);
        else if(op == '/') _division(a, b, ans);
        
        
        if(op == '-' && !agebo) cout << "-";
        
        bool ignore0 = true;
        for(int i = 499; i >= 0; i--){
            if(ans[i] != 0) ignore0 = false;
            if(!ignore0 || i==0) cout << ans[i];
        }
    }

    return 0;
}
```
